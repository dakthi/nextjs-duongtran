// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// NextAuth.js required models
model Account {
  id                String  @id @default(cuid())
  userId            String  @map("user_id")
  type              String
  provider          String
  providerAccountId String  @map("provider_account_id")
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
  @@map("accounts")
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique @map("session_token")
  userId       String   @map("user_id")
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("sessions")
}

model User {
  id            String    @id @default(cuid())
  name          String?
  email         String    @unique
  emailVerified DateTime?
  image         String?
  password      String?
  role          String    @default("admin")
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  accounts Account[]
  sessions Session[]

  @@map("users")
}

// Portfolio CMS Models
model HeroContent {
  id          String   @id @default(cuid())
  locale      String   @default("en")
  title       String
  subtitle    String?
  description String?
  ctaText     String?
  ctaLink     String?
  image       String?
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@unique([locale])
  @@map("hero_content")
}

model BlogPost {
  id            String   @id @default(cuid())
  locale        String   @default("en")
  slug          String
  title         String
  excerpt       String?
  content       String
  image         String?
  category      String?
  quote         String?
  readingTime   Int?
  publishedDate String?
  clientName    String?
  clientAge     Int?
  clientJob     String?
  clientImage   String?
  expertName    String?
  expertTitle   String?
  expertImage   String?
  isFeatured    Boolean  @default(false)
  isPublished   Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@unique([locale, slug])
  @@map("blog_posts")
}

model AboutContent {
  id        String   @id @default(cuid())
  locale    String   @default("en")
  slug      String
  headline  String?
  intro     String?
  sections  Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([locale, slug])
  @@map("about_content")
}

model Testimonial {
  id          String   @id @default(cuid())
  locale      String   @default("en")
  name        String
  role        String?
  relationship String?
  dateLabel   String?
  content     String
  image       String?
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("testimonials")
}

model FaqItem {
  id        String   @id @default(cuid())
  locale    String   @default("en")
  question  String
  answer    String
  category  String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("faq_items")
}

model SiteSetting {
  id        String   @id @default(cuid())
  key       String   @unique
  value     String?
  type      String   @default("text") // 'text', 'json', 'boolean', 'number'
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("site_settings")
}

model MediaItem {
  id           String   @id @default(cuid())
  filename     String
  originalName String
  mimeType     String
  size         Int
  url          String
  alt          String?
  caption      String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("media_items")
}
